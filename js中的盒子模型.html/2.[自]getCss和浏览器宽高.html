<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
    <style type="text/css">
        #ibox{
            width: 300px;
            height:150px;
            background:#ccc;
            margin:50px auto;
            border:10px solid green;
            padding:10px;
        }
    </style>
</head>
<body>
<div class="box" id="ibox">近日简氏防务周刊发表了一篇关于全球第六代战机的文章，文中提到，中国在六代机的研发进展已经与美国处于同一水平，甚至还要更胜一筹。据悉中国第六代战机各方面将全面超越歼20，性能上具有革命性的提升。近年来中国航空工业得到迅猛提升，各型战机更是如雨后春笋般的发展，短短数十年就赶上美俄传统航空强国几十年的发展历程。近日简氏防务周刊发表了一篇关于全球第六代战机的文章，文中提到，中国在六代机的研发进展已经与美国处于同一水平，甚至还要更胜一筹。据悉中国第六代战机各方面将全面超越歼20，性能上具有革命性的提升。近年来中国航空工业得到迅猛提升，各型战机更是如雨后春笋般的发展，短短数十年就赶上美俄传统航空强国几十年的发展历程。</div>
</body>
<script type="text/javascript">
    var obox = document.getElementById('ibox');


    //1.兼容获取和设置浏览器宽高
    function win(attr,value){
        if(typeof value === "undefined" ){
            return document.documentElement[attr] || document.body[attr];
        }
        else{
            document.documentElement[attr] = value;
            document.body[attr] = value;
        }
    }


    //2.兼容获取元素经过浏览器计算过的样式
    function getCss(curEle,attr){
        var val = null, reg = null;
        if("getComputedStyle" in window){
            val = window.getComputedStyle(curEle,null)[attr];//获取元素对象的css属性,可以获取到所有属性,包括设置了和没设置的属性,第一个参数是要操作的对象,第二个是伪类,在ie6~8下不兼容
        }else{
            if(attr === "opacity"){//兼容获取透明度
                val = curEle.currentStyle["fliter"]; //=>"alpha(opacity = num)"
                reg = /^alpha\(opacity=(\d+(?:\.\d+)?)\)$/i;
                val = reg.test(val) ? reg.exec(val)[1]/100 : 1;
            }else{
                val = curEle.currentStyle[attr];//ie6~8下获取
            }
        }
        reg = /^(-?\d+(\.\d+)?)(cm|px|pt|rem|em|%)?$/i;//去除部分样式单位
        return reg.test(val) ? parseFloat(val) : val;
    }
    console.log(getCss(obox,"width"))
    console.log(getCss(obox,"opacity"))
</script>
</html>