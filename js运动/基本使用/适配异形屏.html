<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Page Title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        .main{
            width:600px;
            height: 350px;
            border: 10px solid #000;
            border-radius: 20px;
			margin:100px auto;
			font-size:18px;
			font-family:微软雅黑;
			font-weight:bold;
			position:relative;
        }
		body,ul{
			padding:0;
			margin:0;
		}
		.mian ul{
			width:100%;
			height:100%;
			position: relative;
		}
		.center{
			width:100%;
			height:100%;
			padding:10px;
			overflow-x:hidden;
			overflow-y:scroll;
			box-sizing: border-box;
		}
		.main li{
			list-style:none;
			line-height:30px;
			position:relative;
		}
		.main li+li{
			border-top:1px solid #ccc;
		}
		.camera{
			width:30px;
			height:150px;
			position:absolute;
			left:0;
			top:100px;
			background:#000;
			border-radius:0 30px 30px 0;
		}
		/* *::-webkit-scrollbar{
			padding-left:10px;
		} */
		*::-webkit-scrollbar{
			width: 16px;
			height: 16px;
			overflow:hidden;
			border-radius: 10px;
		}
		/*定义滚动条的轨道，内阴影及圆角*/
		*::-webkit-scrollbar-track{
			box-shadow: inset 0 0 6px rgba(0,0,0,.3);
			border-radius: 10px;
			background-color: #f5f5f5;
		}
		/*定义滑块，内阴影及圆角*/
		*::-webkit-scrollbar-thumb{
			border-radius: 10px;
			box-shadow: inset 0 0 6px rgba(0,0,0,.3);
			background-color: #555;
		}
    </style>
</head>
<body>
    <div class="main">
        <div class="center">
            <ul>
                <li>hello html</li>
                <li>hello java</li>
                <li>hello c++</li>
                <li>hello python</li>
                <li>hello bootstrap</li>
                <li>hello html</li>
                <li>hello java</li>
                <li>hello c++</li>
                <li>hello python</li>
                <li>hello bootstrap</li>
                <li>hello html</li>
                <li>hello java</li>
                <li>hello c++</li>
                <li>hello python</li>
                <li>hello bootstrap</li>
				<li>hello html</li>
				<li>hello java</li>
				<li>hello c++</li>
				<li>hello python</li>
				<li>hello bootstrap</li>
				<li>hello html</li>
				<li>hello java</li>
				<li>hello c++</li>
				<li>hello python</li>
				<li>hello bootstrap</li>
				<li>hello html</li>
				<li>hello java</li>
				<li>hello c++</li>
				<li>hello python</li>
				<li>hello bootstrap</li>
				<li>hello java</li>
				<li>hello c++</li>
				<li>hello python</li>
				<li>hello bootstrap</li>
				<li>hello html</li>
				<li>hello java</li>
				<li>hello c++</li>
				<li>hello python</li>
				<li>hello bootstrap</li>
				<li>hello html</li>
				<li>hello java</li>
				<li>hello c++</li>
				<li>hello python</li>
				<li>hello bootstrap</li>
            </ul>
        </div>
		<div class="camera">
		</div>
    </div>
</body>
<script>
	let camera=document.querySelector('.camera');
	let center=document.querySelector('.center');
	let cRect=camera.getBoundingClientRect();
	let thresh=20;
	let maxOffset=50;
	let li=document.querySelectorAll('.main li');
	~function moveLi(){
		center.onscroll=arguments.callee;
		for(let itme of li ){
			let lRect=itme.getBoundingClientRect();
			let offsetY1=lRect.bottom-cRect.top;
			let offsetY2=lRect.top-cRect.bottom-10;
			if(Math.abs(offsetY1)<=20){
				itme.style.transform='translateX('+lerp(0,maxOffset,cal(offsetY1,thresh))+'px)';
			}
			else if(offsetY1>=20 && offsetY2<=-20){
				itme.style.transform='translateX('+maxOffset+'px)';
			}
			else if(Math.abs(offsetY2)<=20){
				itme.style.transform='translateX('+lerp(maxOffset,0,cal(offsetY2,thresh))+'px)';
			}
			else{
				itme.style.transform='translateX('+0+')';
			}
			itme.offsetLeft=20;
			console.log(itme.offsetLeft);
		}
	}();
	//动画函数：
	// p1:初始状态
	// p2:结束状态
	// t:时间函数
	// 返回初始状态和结束状态之间的状态
	function lerp(p1,p2,t){
		return (p2-p1)*t+p1;
	}
	function cal(dis,thr){
		// dis:-20~20
		// thr:20
		return (dis+thr)/(thr*2);
	}
</script>
</html>