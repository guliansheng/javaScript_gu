<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title></title>
    <link rel="stylesheet" href="">
</head>
<body>
    <div id="div" style="width:200px;height:100px;background:#ccc"></div>
</body>
<script>
    let a = function(b){
        let d=4;//私有变量
        return function (c){
            return b+c;
        }
    }
    console.log(a());
    //闭包:函数执行的一瞬间叫闭包,(不销毁的作用域),当执行后返回的结果必须是引用数据类型,被外界变量接收,此时这个函数不会销毁.(模块化)
    console.log(a(4)(5));



    let fun =function(){
        var n=0;
        return function sum(){
            return ++n;
        }
    }
    var fun1=fun();//此时的fun1指向sum函数,fun1引用了fun中的sum,所以此时fun中的资源被占用了,则形成了闭包,此时sum所在的作用域中的变量都无法释放,即n无法释放,内存会存在一定的占用;

    console.log(fun1);
    div.onclick=function(){
        this.innerHTML=fun1();
    }

    var fun2=fun();//当再次应用fun()时,内部变量的会存储在不同的内存中,所以不会相互干扰,因为这里的n是fun中的局部变量;
    div.ondblclick=function(){
        this.innerHTML=fun2();
    }
</script>

</html>